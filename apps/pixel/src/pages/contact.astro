---
import Layout from '~/layouts/PageLayout.astro';
import HeroText from '~/components/widgets/HeroText.astro';
import Features2 from '~/components/widgets/Features2.astro';
import ContactForm from '~/components/react/Contact.tsx';

const metadata = {
  title: 'Contact',
};
---

<Layout metadata={metadata}>
  <!-- HeroText Widget ******************* -->

  <HeroText tagline="Contact" title="Let's Connect!" />
  <ContactForm client:load />

  <!-- Features2 Widget ************** -->
  <Features2
    title="We are here to help!"
    items={[
      {
        title: 'General support',
        description: `Chat with us for inquiries related to account management, website navigation, payment issues, accessing purchased templates or general questions about the website's functionality.`,
      },
      {
        title: 'Contact sales',
        description:
          'Chat with us for questions about purchases, customization options, licensing for commercial use, inquiries about specific template, etc.',
      },
      {
        title: 'Technical support',
        description:
          'Chat with us when facing issues like template installation, problems editing difficulties, compatibility issues with software or download errors, or other technical challenges related to using the templates.',
      },
      {
        title: 'Email',
        description: 'contact@onepixellabs.com',
        icon: 'tabler:mail',
      },
    ]}
  />
</Layout>

<script>
  import { toast } from 'sonner';

  // import { navigate } from 'astro:transitions/client';

  try {
    const form = document.querySelector('form');
    form?.addEventListener('submit', async (event) => {
      event.preventDefault();
      const formData = new FormData(form);

      console.log(Object.fromEntries(formData));
      toast.success('Message sent successfully!');
      // const { error } = await actions.newsletter(formData);
      // if (!error) navigate('/confirmation');
    });
  } catch (error) {
    if (error instanceof Error) {
      console.error(error.message);
    }
  }
</script>
